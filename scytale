#premier essai scytale
import re

def supprimer_caracteres_speciaux(texte): # fonction pour enlever les caractères spéciaux du texte
    return re.sub('[^A-Za-z0-9]+', '', texte) #supprimer tout sauf A-Z a-z et 0-9

def crypte_texte(texte, nb_colonnes, enlever_espaces=False, enlever_caracteres_speciaux=False): # fonction pour crypter un texte avec une scytale
    if enlever_espaces:
        texte = texte.replace(" ", "")
    if enlever_caracteres_speciaux:
        texte = supprimer_caracteres_speciaux(texte)
    nb_rangees = (len(texte) + nb_colonnes - 1) // nb_colonnes #calcul nbr rangées pour stocker pour stocker le texte
    espaces_vides = nb_rangees * nb_colonnes - len(texte) #calcul nbr espaces vides à la fin du texte pour remplir la dernière rangée et les ajoute
    texte += ' ' * espaces_vides
    texte_crypte = ''
    for i in range(nb_colonnes): #parcourt chaque colonne de la scytale
        for j in range(nb_rangees): #parcourt chaque rangée de la scytale
            texte_crypte += texte[j * nb_colonnes + i] #Calcule l'index du caractère à ajouter à la chaîne cryptée
    return texte_crypte
